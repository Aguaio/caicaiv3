<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel de AdministraciÃ³n â€” Caicai</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .success { background-color: #dcfce7; color: #166534; padding: 8px 12px; border-radius: 6px; margin-bottom: 8px; display:flex; align-items:center; gap:6px; }
    .success::before { content: "âœ”"; font-weight:bold; }
    .error { background-color: #fee2e2; color: #991b1b; padding: 8px 12px; border-radius: 6px; margin-bottom: 8px; }

    @keyframes fadeOut {
      to { opacity: 0; transform: translateY(-4px); }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- HEADER CAICAI -->
  <header class="border-b shadow-sm bg-white">
    <div class="max-w-7xl mx-auto px-4 py-4 flex flex-col gap-3">
      <div class="flex items-center justify-between">
        <!-- Volver a la tienda -->
        <button
          onclick="window.location.href='{% url 'home' %}'"
          class="flex items-center gap-2 text-gray-600 hover:text-gray-900 text-sm"
        >
          <span class="text-lg">âŒ‚</span>
          <span class="font-medium">Ver tienda</span>
        </button>

        <!-- Logo -->
        <div class="w-24 h-24 bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg flex items-center justify-center shadow-lg">
          <span class="text-white font-bold text-xl">CAICAI</span>
        </div>

        <!-- SesiÃ³n / usuario -->
        <div class="text-right text-xs sm:text-sm">
          {% if user.is_authenticated %}
            <p>
              SesiÃ³n: <strong>{{ user.username }}</strong>
            </p>
            <p class="mt-1">
              <a href="{% url 'editar_perfil' %}" class="hover:text-gray-700">Perfil</a> Â·
              <a href="{% url 'mis_pedidos' %}" class="hover:text-gray-700">Mis pedidos</a> Â·
              <a href="{% url 'logout_unificado' %}" class="hover:text-gray-700 font-semibold">Cerrar sesiÃ³n</a>
            </p>
          {% elif request.session.admin_id %}
            <p>
              SesiÃ³n: <strong>Admin</strong>
            </p>
            <p class="mt-1">
              <a href="{% url 'logout_unificado' %}" class="hover:text-gray-700 font-semibold">Cerrar sesiÃ³n</a>
            </p>
          {% else %}
            <p>
              <a href="{% url 'login_unificado' %}" class="hover:text-gray-700 font-semibold">Iniciar sesiÃ³n</a> Â·
              <a href="{% url 'registro_cliente' %}" class="hover:text-gray-700">Registrarse</a>
            </p>
          {% endif %}
        </div>
      </div>

      <!-- SubtÃ­tulo -->
      <div class="flex items-center justify-between text-xs sm:text-sm text-gray-500 mt-1">
        <p class="uppercase tracking-wide font-semibold text-gray-600">
          Panel de administraciÃ³n
        </p>
        <p>
          Solo visible para administradores de Caicai.
        </p>
      </div>
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="py-10">
    <div class="max-w-7xl mx-auto px-4">

      <!-- Mensajes Django -->
      {% if messages %}
        <div class="mb-4">
          {% for message in messages %}
            <div class="{% if message.tags == 'success' %}success{% else %}error{% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}

      <!-- TÃ­tulo / descripciÃ³n -->
      <section class="mb-8">
        <h1 class="text-2xl sm:text-3xl font-bold tracking-tight mb-2">
          Bienvenido al panel de Caicai
        </h1>
        <p class="text-sm sm:text-base text-gray-600 max-w-2xl">
          Desde aquÃ­ puedes administrar las categorÃ­as, productos, pedidos, clientes y solicitudes
          de confecciÃ³n a medida de la tienda. Los cambios que realices impactan directamente en lo que
          ven los clientes en el catÃ¡logo.
        </p>
      </section>

      <!-- GRID de accesos rÃ¡pidos -->
      <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">

        <!-- Productos -->
        <a href="{% url 'productos_list' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              ğŸ›’
            </div>
            <h2 class="font-semibold text-lg mb-1">Productos</h2>
            <p class="text-sm text-gray-600">
              Ver, crear, editar y eliminar productos que se muestran en el catÃ¡logo de Caicai.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Ir a gestiÃ³n de productos â†’
          </span>
        </a>

        <!-- CategorÃ­as -->
        <a href="{% url 'categorias_list' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              ğŸ—‚
            </div>
            <h2 class="font-semibold text-lg mb-1">CategorÃ­as</h2>
            <p class="text-sm text-gray-600">
              Organiza los productos en categorÃ­as (poleras, polerones, pantalones, etc.) para el catÃ¡logo.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Administrar categorÃ­as â†’
          </span>
        </a>

        <!-- Pedidos -->
        <a href="{% url 'pedidos_list' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              ğŸ“¦
            </div>
            <h2 class="font-semibold text-lg mb-1">Pedidos</h2>
            <p class="text-sm text-gray-600">
              Revisar los pedidos realizados por los clientes, actualizar estados y ver detalles.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Ver pedidos â†’
          </span>
        </a>

        <!-- Clientes -->
        <a href="{% url 'clientes_list' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              ğŸ‘¥
            </div>
            <h2 class="font-semibold text-lg mb-1">Clientes</h2>
            <p class="text-sm text-gray-600">
              Gestionar cuentas de clientes, revisar historial y bloquear/desbloquear usuarios.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Administrar clientes â†’
          </span>
        </a>

        <!-- Solicitudes de confecciÃ³n -->
        <a href="{% url 'solicitudes_confeccion_list' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              âœ‚ï¸
            </div>
            <h2 class="font-semibold text-lg mb-1">Solicitudes de confecciÃ³n</h2>
            <p class="text-sm text-gray-600">
              Revisar y gestionar las solicitudes de prendas a medida enviadas por los clientes.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Ver solicitudes â†’
          </span>
        </a>

        <!-- Historial de clientes -->
        <a href="{% url 'historial_clientes' %}"
           class="group bg-white rounded-xl shadow-sm border border-gray-100 p-6 flex flex-col justify-between hover:shadow-md hover:-translate-y-0.5 transition-all">
          <div>
            <div class="inline-flex items-center justify-center w-10 h-10 rounded-lg bg-gray-900 text-white mb-4">
              ğŸ•‘
            </div>
            <h2 class="font-semibold text-lg mb-1">Historial de clientes</h2>
            <p class="text-sm text-gray-600">
              Revisa acciones registradas por cliente: creaciÃ³n de cuenta, bloqueos, pedidos y mÃ¡s.
            </p>
          </div>
          <span class="mt-4 text-sm font-semibold text-gray-900 group-hover:text-teal-600">
            Ver historial â†’
          </span>
        </a>

      </section>

      <!-- Notita inferior -->
      <section class="mt-6 text-xs sm:text-sm text-gray-500">
        <p>
          Tip: si cierras sesiÃ³n o navegas como cliente, este panel deja de ser accesible para evitar que
          un usuario normal vea funciones internas de Caicai.
        </p>
      </section>

    </div>
  </main>

  <footer class="bg-white border-t py-6 mt-10">
    <div class="max-w-7xl mx-auto px-4 text-center text-xs sm:text-sm text-gray-500">
      <p>Â© 2025 Caicai â€” Panel de administraciÃ³n.</p>
    </div>
  </footer>

  <!-- Desvanecer mensajes -->
  <script>
    setTimeout(() => {
      document.querySelectorAll('.success, .error').forEach(el => {
        el.style.animation = 'fadeOut 0.5s forwards';
        setTimeout(() => el.remove(), 500);
      });
    }, 5000);
  </script>

</body>
</html>
